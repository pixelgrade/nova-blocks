:root {
	margin-left: auto;
	margin-right: auto;

	--novablocks-media-text-color: var(--novablocks-dark-2);
	--novablocks-media-titles-color: var(--novablocks-dark-3);
	--novablocks-media-subtitles-color: var(--novablocks-color-1);
	--novablocks-media-background-color: var(--novablocks-light-1);

	--novablocks-media-content-padding: 0;
	--novablocks-media-content-background-color: transparent;
	--novablocks-media-content-background-opacity: 1;
	--novablocks-media-content-box-shadow: none;

	--novablocks-media-spacing: 24px;
	--novablocks-media-background-direction: 90deg;

	@include above(lap) {
		--novablocks-media-spacing: 48px;
	}

	@include above(desktop) {
		--novablocks-media-spacing: 56px;
	}
}


// media layout
.novablocks-media {

	&.has-background {
		padding: 0;
	}

	// center content
	.wp-block-group__inner-container > .wp-block {
		margin-left: auto;
		margin-right: auto;
	}

	// make sure negative margin used for layout doesnt overlap other blocks
	.wp-block-group__inner-container > .wp-block {
		display: flex;

		> * {
			flex-grow: 1;
		}
	}
}

.novablocks-media__layout {
	display: flex;
	flex-wrap: wrap;
	align-items: stretch;

	margin-top: calc( -1 * var(--novablocks-media-spacing) );
	margin-left: calc( -1 * var(--novablocks-media-spacing) );

	> * {
		padding-left: var(--novablocks-media-spacing);
		margin-top: var(--novablocks-media-spacing);
		flex: 1 0 50%;
	}
}

.has-image-on-the-left {
	--novablocks-media-background-direction: -90deg;
}

.novablocks-media[class][class] {
	margin-top: calc( var(--block-top-spacing, 0) * var(--novablocks-media-spacing) );
	margin-bottom: calc( var(--block-bottom-spacing, 0) * var(--novablocks-media-spacing) );

	padding-top: calc( -1 * var(--emphasis-top-spacing, 0) * var(--novablocks-media-spacing) );
	padding-bottom: calc( -1 * var(--emphasis-bottom-spacing, 0) * var(--novablocks-media-spacing) );

	transition: var(--novablocks-media-transition);
	transition-property: margin, padding;

	.novablocks-advanced-gallery {
		margin-top: calc( var(--emphasis-top-spacing, 0) * var(--novablocks-media-spacing) );
		margin-bottom: calc( var(--emphasis-bottom-spacing, 0) * var(--novablocks-media-spacing) );

		transition: var(--novablocks-media-transition);
		transition-property: margin, padding;
	}

	.wp-block-group__inner-container {
		background-image: linear-gradient(
				var(--novablocks-media-background-direction),
				var(--novablocks-media-background-color) 0,
				var(--novablocks-media-background-color) calc(var(--emphasis-area) * 1%),
				transparent calc(var(--emphasis-area) * 1%)
		);
		background-size: 100% 100%;
	}

	.novablocks-media__content {
		padding-top: calc( var(--emphasis-top-spacing, 0) * var(--novablocks-media-spacing) );
		padding-bottom: calc( var(--emphasis-bottom-spacing, 0) * var(--novablocks-media-spacing) );

		transition: var(--novablocks-media-transition);
		transition-property: padding;
	}
}

// block variations
.block-is-moderate,
.block-is-highlighted {
	--novablocks-media-padding: var(--novablocks-media-spacing);
}

.block-is-moderate {
	--novablocks-media-background-color: var(--novablocks-light-2);
}

.block-is-highlighted {
	--novablocks-media-background-color: var(--novablocks-dark-3);
}

.content-is-moderate,
.content-is-highlighted {
	--novablocks-media-content-padding: var(--novablocks-media-spacing);
}

.content-is-moderate,
.content-is-highlighted.block-is-highlighted {
	--novablocks-media-content-background-color: var(--novablocks-light-1);
	--novablocks-media-content-box-shadow: #{$nova-box-shadow-nova};
}

.content-is-moderate.block-is-highlighted {
	--novablocks-media-content-background-color: var(--novablocks-light-1);
	--novablocks-media-content-background-opacity: 0.2;
}

.block-is-highlighted:not(.content-is-highlighted),
.content-is-highlighted:not(.block-is-highlighted) {
	--novablocks-media-text-color: var(--novablocks-light-1);
	--novablocks-media-titles-color: var(--novablocks-media-text-color);
	--novablocks-media-subtitles-color: var(--novablocks-media-text-color);
}

.content-is-highlighted:not(.block-is-highlighted) {
	--novablocks-media-content-background-color: var(--novablocks-dark-1);
}

@import 'content';
@import 'aside';
