@mixin block-spacing-apply-multiplier {
  @include block-spacing-top-level-multiplier;
  @include block-spacing-nested-levels-multiplier;
}

@mixin block-spacing-top-level-multiplier {

  & {
    --nb-element-spacing-multiplier: var(--nb-element-spacing-level-1-multiplier);

    > p + p {
      --nb-element-spacing-multiplier: calc( 0.5 * var(--nb-element-spacing-level-1-multiplier) );
    }
  }
}

@mixin block-spacing-nested-levels-multiplier {

  & & {
    --nb-element-spacing-multiplier: var(--nb-element-spacing-level-2-multiplier);
  }

  & & & {
    --nb-element-spacing-multiplier: var(--nb-element-spacing-level-3-multiplier);
  }
}

@mixin block-spacing-reset {
  --nb-block-top-spacing: 1;
  --nb-block-bottom-spacing: 0;
  --nb-emphasis-top-spacing: 0;
  --nb-emphasis-bottom-spacing: 0;

  > :first-child {
    --nb-block-top-spacing: 0;
  }
}

@mixin block-spacing {
  margin-top: calc(var(--nb-block-top-spacing) * var(--nb-spacing) * var(--nb-element-spacing-multiplier));
  margin-bottom: calc(var(--nb-block-bottom-spacing) * var(--nb-spacing) * var(--nb-element-spacing-multiplier));
  padding-top: calc(var(--nb-emphasis-top-spacing) * var(--nb-spacing) * var(--nb-element-spacing-multiplier));
  padding-bottom: calc(var(--nb-emphasis-bottom-spacing) * var(--nb-spacing) * var(--nb-element-spacing-multiplier));
}

