$align-selectors: '[data-align="full"], [data-align="wide"], [data-novablocks-alignment="pull-left"], [data-novablocks-alignment="pull-right"]';

// Default Layout Grid
// fs - full start
// ws - wide start
// cs - content start
// ce - content end
// cc - content center
// we - wide end
// fe - full end
// gs - gap start
// ge - gap end
// gcs - gap content start
// gce - gap content end
// The same thing applies for [cc] [ce].

//noinspection ALL
@mixin layout-grid {
  @include layout-settings;

  display: grid;

  grid-template-columns:
    [fs] Max(var(--nb-spacing), var(--full)) // [ws]
    [ws] calc(var(--wds) * 2) // [gs]
    [gs] var(--nb-sidecar-grid-gap) // [cs]
    [cs] 1fr // [gcs]
    [gcs] calc(var(--nb-sidecar-grid-gap)/2) // [cc]
    [cc] calc(var(--nb-sidecar-grid-gap)/2)  // [gce]
    [gce] 1fr // [gce]
    [ce] var(--nb-sidecar-grid-gap) // [ge]
    [ge] calc(var(--wde) * 2) // [we]
    [we] Max(var(--nb-spacing), var(--full)) [fe];

  grid-column: fs / fe;

  @include below(lap) {
    grid-template-columns:
      [fs] var(--nb-spacing) // [ws]
      [ws] auto // [gs]
      [gs] 0 // [cs]
      [cs] 1fr // [gcs]
      [gcs] 0 // [cc]
      [cc] 0  // [gce]
      [gce] 1fr // [gce]
      [ce] 0 // [ge]
      [ge] auto // [we]
      [we] var(--nb-spacing) [fe];
  }

  // this rule needs to be weaker than the one above
  :where(& > *) {
    grid-column: var(--block-content-start) / var(--block-content-end);

    @include below(lap) {
      grid-column: ws / we;
    }
  }
}

// Default Layout Settings
// --nb-sidecar-display - Block default display mode. (eg. grid or flex)
// --sticky-element-top-spacing - Used to position the sticky block.
// In Rosa2 this value will be equal with site header height, in this way,
// the sticky block will not be under the header.
@mixin layout-settings {
  --nb-sidecar-sidebar-small-width: 230px;
  --nb-sidecar-sidebar-medium-width: 300px;
  --nb-sidecar-sidebar-large-width: 500px;
  --nb-sidecar-sidebar-minimum-width: var(--nb-sidecar-sidebar-medium-width);
  --nb-sidecar-sidebar-default-width: calc(var(--nb-sidecar-sidebar-minimum-width) * 0.5);

  --nb-sidecar-display: block;
  --nb-sidecar-grid-gap: 3em;

  --sticky-element-top-spacing: 0px;

  --wds: var(--nb-sidecar-sidebar-default-width);
  --wde: var(--nb-sidecar-sidebar-default-width);

  --full: Max(0px, calc((100% - var(--nb-content-width-wide)) * 0.5));

  // Default position for blocks is between cs and ce.
  --block-content-start: cs;
  --block-content-end: ce;
  
  // Default block limits are ws and we.
  --block-limit-left: ws;
  --block-limit-right: we;
  
  @include above(ultra) {
    --nb-sidecar-sidebar-small-width: 10.5em;
    --nb-sidecar-sidebar-medium-width: 13.7em;
    --nb-sidecar-sidebar-large-width: 22.8em;
  }
}
