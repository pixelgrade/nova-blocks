.supernova-item {

  .supernova--card-layout-stacked .nb-collection__layout--carousel & {
    background-color: var(--sm-current-bg-color);
  }

  .wp-block-button {
    display: block;
  }
}

/*
 * Currently Slick is applying display: inline-block.
 * Until we find a solution for that,
 * we are going to use !important for our style.
 */
.supernova-item:not(.supernova-item--layout-stacked) {
  display: flex !important;
}

.supernova-item--layout-stacked {
  display: block !important;
}

:is(.supernova--card-layout-horizontal, .supernova--card-layout-horizontal-reverse) {
  margin-top: calc(var(--block-top-spacing) * var(--nb-spacing));
  margin-bottom: calc(var(--block-bottom-spacing) * var(--nb-spacing));

  @include above(tablet) {

    .supernova-item {

      .supernova-item__media-wrapper {
        margin-top: calc( var(--emphasis-top-spacing) * var(--nb-spacing));
        margin-bottom: calc( var(--emphasis-bottom-spacing) * var(--nb-spacing));
      }

      .supernova-item__content {
        padding-top: calc( var(--emphasis-top-spacing) * var(--nb-spacing));
        padding-bottom: calc( var(--emphasis-bottom-spacing) * var(--nb-spacing));
      }
    }
  }

  @include below(tablet) {
    --nb-card-layout-gap: 0 !important;
    --nb-block-top-spacing: 1;
    --nb-block-bottom-spacing: 1;
    --nb-emphasis-top-spacing: 0;
    --nb-emphasis-bottom-spacing: 0;

    .supernova-item__media-wrapper,
    .supernova-item__content {
      padding-top: calc( var(--nb-spacing) * 0.5 );
      padding-bottom: calc( var(--nb-spacing) * 0.5 );
    }
  }
}

.supernova--card-layout-stacked.supernova--1-columns.alignfull {

  .nb-collection__layout:not(.nb-collection__layout--parametric) {

    // For this use case the supernova item container could have the same layout as the sidecar block
    // However we need to remove any horizontal padding set with the Content Padding control
    .supernova-item__inner-container {
      @include nb-content-layout-grid;

      padding-left: 0;
      padding-right: 0;

      > .nb-sidecar {
        margin-left: 0;
        margin-right: 0;
      }
    }
  }
}
