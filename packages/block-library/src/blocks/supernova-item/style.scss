@import "./scss/dropcap";

.nb-supernova-item {

  .nb-supernova--card-layout-stacked .nb-collection__layout--carousel & {
    background-color: var(--sm-current-bg-color);
  }

  .wp-block-button {
    display: block;
  }
}

.nb-supernova-item.nb-supernova-item--layout-stacked {
  --nb-block-minimum-height: calc(var(--nb-minimum-container-height) - var(--admin-bar-height, 0px));
  min-height: var(--nb-block-minimum-height);

  &.nb-supernova-item--scrolling-effect-doppler {
    --nb-block-minimum-height: calc(2 * var(--nb-minimum-container-height) - var(--admin-bar-height, 0px));
  }

  .nb-supernova-item__content {
    min-height: calc(var(--nb-minimum-container-height) - var(--admin-bar-height, 0px));
  }
}


/*
 * Currently Slick is applying display: inline-block.
 * Until we find a solution for that,
 * we are going to use !important for our style.
 */
.nb-supernova-item:not(.nb-supernova-item--layout-stacked) {
  display: flex !important;
}

.nb-supernova-item--layout-stacked {
  display: block !important;
}

.nb-supernova-item__inner-container {
  --nb-spacing-multiplier-override: 1;
}

.nb-supernova-item {
  @include block-spacing;
}

:is(.nb-supernova--card-layout-horizontal, .nb-supernova--card-layout-horizontal-reverse) {

  @include above(tablet) {

    .nb-supernova-item {
      margin-top: calc( var(--nb-block-top-spacing) * var(--nb-current-spacing) * var(--nb-spacing-multiplier-override, 1));
      margin-bottom: calc( var(--nb-block-bottom-spacing) * var(--nb-current-spacing) * var(--nb-spacing-multiplier-override, 1));
      padding-top: 0;
      padding-bottom: 0;

      .nb-supernova-item__media-wrapper {
        margin-top: calc( var(--nb-emphasis-top-spacing) * var(--nb-current-spacing) * var(--nb-spacing-multiplier-override, 1));
        margin-bottom: calc( var(--nb-emphasis-bottom-spacing) * var(--nb-current-spacing) * var(--nb-spacing-multiplier-override, 1));
      }

      .nb-supernova-item__content {
        padding-top: calc( var(--nb-emphasis-top-spacing) * var(--nb-current-spacing) * var(--nb-spacing-multiplier-override, 1));
        padding-bottom: calc( var(--nb-emphasis-bottom-spacing) * var(--nb-current-spacing) * var(--nb-spacing-multiplier-override, 1));
      }
    }
  }

  @include below(tablet) {
    --nb-card-layout-gap: 0 !important;
    --nb-block-top-spacing: 1;
    --nb-block-bottom-spacing: 1;
    --nb-emphasis-top-spacing: 0;
    --nb-emphasis-bottom-spacing: 0;

    .nb-supernova-item__media-wrapper,
    .nb-supernova-item__content {
      padding-top: calc( var(--nb-spacing) * 0.5 );
      padding-bottom: calc( var(--nb-spacing) * 0.5 );
    }
  }
}

.nb-supernova--1-columns:where(.nb-supernova--card-layout-stacked, .nb-supernova--card-layout-vertical, .nb-supernova--card-layout-vertical-reversed) {

  .nb-collection.alignfull {

    .nb-collection__layout:not(.nb-collection__layout--parametric) {

      // For this use case the supernova item container could have the same layout as the sidecar block
      // However we need to remove any horizontal padding set with the Content Padding control
      .nb-supernova-item__inner-container {
        @include nb-content-layout-grid;

        padding-left: 0;
        padding-right: 0;
      }
    }
  }
}
