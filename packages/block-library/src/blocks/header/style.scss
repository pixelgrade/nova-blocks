@import 'scss/mixins';
@import 'scss/menu-toggle';
@import 'scss/reading-bar';

@import 'scss/header-mobile';
@import 'scss/header-secondary';

:root {
  --icons-size-multiplier: 1.3;
  --icons-horizontal-spacing-reducer: 2;
}

.novablocks-header[class] {
  width: 100%;
}

:is(.novablocks-header, .novablocks-header--mobile, #more.specific) {
  --nb-block-top-spacing: 0;
}

.novablocks-header--sticky[class] {
  --header-background-opacity: 0.95;
}

.novablocks-header--mobile {

  @include above(lap) {
    display: none;
  }

  &.novablocks-header--scrolled {
    color: var(--sm-current-fg2-color, var(--nb-fg2-color));
  }
}

@include above(lap) {

  .novablocks-header--main {
    top: 0;
    left: 0;
    right: 0;
    z-index: 2001;

    transition: var(--theme-transition);
    transition-property: opacity;
  }

  .novablocks-header__inner-container {
    width: 100%;
  }

  .novablocks-header__content {

    > .novablocks-navigation {

      > .menu,
      > .menu > ul {
        justify-content: inherit;
      }
    }
  }
}

@import 'scss/mobile';
@import 'scss/mobile-transitions';

:where(.novablocks-header-background) {
  @include header-background;
}

:where(.novablocks-header-shadow) {
  @include header-shadow;
}

.novablocks-header:not(.novablocks-header--ready) {
  opacity: 0;
  --header-background-opacity: 0;
}

// Hide all header and header-row backgrounds when Header is *transparent*
.novablocks-header.novablocks-header--transparent:not(.novablocks-header--sticky) {

  @include above(lap) {
    --header-background-opacity: 0;
  }
}

.novablocks-header--mobile {

  &.novablocks-header--transparent {

    &:before {
      --header-background-opacity: 0;
    }
  }

  &:not(.novablocks-header--transparent) {
    --header-background-opacity: 0.95;
  }
}

.novablocks-header--sticky:not(.novablocks-header--main) {

  @include above(lap) {
    margin-top: 0 !important;
  }
}



/**
 * Badges for Menu Items
 *
 * Impose a few custom font rules outside of the Design System tokens.
 * Uppercase and letter-spacing helps small font sizes (10-11px) to be legible.
 * 
 * @todo: uppercase it's not working well with serif typefaces and we need to 
 * find a way to pass some exceptions based on font family
 */
.menu-item-label {
    @include badge(highlighted);
    --font-size-modifier: 0.7;

    // Custom font rules
    text-transform: uppercase;
    font-weight: bold;
    letter-spacing: 0.03em;
    
    vertical-align: middle;
    margin-left: var(--navigation-item-sub-elements-spacing);
}