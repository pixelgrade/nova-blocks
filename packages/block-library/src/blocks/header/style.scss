@import 'scss/menu-toggle';

@media only screen and (min-width: 1000px) {
  // Nova Blocks hacks
  .site-header--default {
    // styles from Nova Blocks should only affect blocks created by it
    @import 'scss/menu';
  }
  
  .site-header__content {
    
    > .wp-block-novablocks-navigation {
      > .menu,
      > .menu > ul {
        justify-content: inherit;
      }
    }
    
    &.alignfull[class] {
      margin-left: 0;
      margin-right: 0;
    }
  }
  
  .c-menu-toggle__checkbox,
  .c-menu-toggle {
    display: none;
  }
  
  // Fix Header layout until
  // user hit save after migration.
 .site-header--is-old {
   
   &.site-header--logo-left {
     
     .site-header__content {
       grid-template-columns: auto 1fr;
     }
   }
    .site-header__content {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      
      > :last-child {
        justify-content: flex-end;
      }
    }
  }
}

@media not screen and (min-width: 1000px) {
  @import 'scss/mobile';
  @import 'scss/mobile-transitions';
}

.site-header-sticky {
  position: fixed;
  top: var(--admin-bar-height, 0);
  
  width: 100%;
  z-index: 1100;
  
  opacity: 0;
  pointer-events: none;
  
  transition: opacity .15s ease-in;
  
  &--is-visible {
    opacity: 1;
    pointer-events: auto;
  }
}

.site-header {
  
  &--is-sticky {
    position: fixed;
    top: var(--admin-bar-height, 0);
  }
}

@include below(lap) {
  
  .site-header-sticky {
    display: none;
  }
  
  .site-header--simple {
    
    .site-header__row {
      display: flex;
      flex-direction: column;
      
      .site-header__menu--primary {
        order: -1;
      }
    }
  }
  
  .site-header__row--primary {
    order: -1;
  }
}

@include above(lap) {
  
  .site-header__row {
    
    display: flex;
    align-items: center;
    
    &--secondary {
      justify-content: space-between;
    }
    
    &--logo {
      &:not(:first-child),
      &:not(:last-child) {
        justify-content: center;
      }
    }
    
    &--primary {
      justify-content: center;
    }
  }
  
  .site-header {
    
    &__row {
      display: grid;
    }
    
    &--logo-center {
      
      .site-header__row {
        
        grid-template-columns: 1fr auto 1fr;
        
        > :last-child {
          justify-content: flex-end;
          
          > .menu {
            justify-content: flex-end;
          }
        }
      }
    }
    
    &--logo-left {
      
      .site-header__row {
        grid-template-columns: auto 1fr;
        
        > :last-child > .menu {
          justify-content: flex-end;
        }
      }
      
    }
    
    &--logo-center-two-rows {
      
      .site-header__row--logo {
        grid-template-columns: 1fr auto 1fr;
        
        > :last-child > .menu {
          justify-content: flex-end;
        }
      }
    }
  }
}

.site-header-sticky {
  
  .site-header__row--logo:first-child {
    grid-template-columns: 1fr auto 1fr;
    
    > :first-child {
      > .menu {
        justify-content: flex-start;
      }
    }
    
    > :last-child {
      > .menu {
        justify-content: flex-end;
      }
    }
  }
}

.site-header__row--secondary {
  grid-template-columns: repeat(2, 1fr);
  
  > :first-child {
    > .menu {
      justify-content: flex-start;
    }
  }
  
  > :last-child {
    > .menu {
      justify-content: flex-end;
    }
  }
}

.site-header-sticky {
  
  .site-header__row--logo {
    padding-top: var(--theme-spacing-default);
    padding-bottom: var(--theme-spacing-default);
  }
}

.site-header--logo-center-three-rows + .site-header-sticky {
  
  .site-header__row--logo {
    grid-template-columns: 1fr;
    justify-content: center;
    
    
    > .c-branding {
      justify-content: center;
    }
  }
}
