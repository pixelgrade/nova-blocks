.supernova__layout {
  --novablocks-grid-spacing: var(--novablocks-spacing);
}

.supernova__layout--fixed-width {
  .supernova-item:not(.supernova-item--aspect-ratio-auto) {
    .novablocks-card__media-image {
      @include image-cover;
    }
  }
}

.supernova-item--aspect-ratio-auto {

  .novablocks-advanced-gallery__image {
    position: static;

    display: block;
    width: 100%;
    height: auto;
    min-width: 0;
    min-height: 0;
    transform: none;
  }

  .novablocks-advanced-gallery__grid-item-media {
    flex-grow: 0;
  }

  .blob-mix {
    position: relative;
  }

  .blob-mix__mask {
    position: static;
    height: auto;
  }

  .blob-mix__media {
    position: relative;
    height: auto;
  }
}

@mixin with-editor-layout-selectors {

  &:not(.supernova__layout--edit),
  &.supernova__layout--edit > .block-editor-inner-blocks > .block-editor-block-list__layout {
    @content;
  }
}

.supernova__layout--classic,
.supernova__layout--parametric {

  @include with-editor-layout-selectors {

    display: grid;
    grid-gap: calc( var(--novablocks-grid-spacing) * var(--novablocks-grid-spacing-modifier, 1) );
    grid-template-columns: repeat(var(--collection-columns-count, 1), 1fr);

    > * {
      margin: 0;
    }
  }
}
