{"version":3,"sources":["webpack://novablocks/webpack/bootstrap","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://novablocks/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://novablocks/@novablocks/advanced-gallery/src/block-controls.js","webpack://novablocks/@novablocks/advanced-gallery/src/grid-item.js","webpack://novablocks/@novablocks/advanced-gallery/src/index.js","webpack://novablocks/@novablocks/advanced-gallery/src/inspector-controls.js","webpack://novablocks/@novablocks/advanced-gallery/src/placeholder.js","webpack://novablocks/@novablocks/advanced-gallery/src/preview.js","webpack://novablocks/@novablocks/advanced-gallery/src/utils.js","webpack://novablocks/external {\"this\":[\"novablocks\",\"blob\"]}","webpack://novablocks/external {\"this\":[\"novablocks\",\"blockEditor\"]}","webpack://novablocks/external {\"this\":[\"novablocks\",\"utils\"]}","webpack://novablocks/external {\"this\":[\"wp\",\"blockEditor\"]}","webpack://novablocks/external {\"this\":[\"wp\",\"components\"]}","webpack://novablocks/external {\"this\":[\"wp\",\"element\"]}","webpack://novablocks/external {\"this\":[\"wp\",\"i18n\"]}","webpack://novablocks/external {\"this\":\"jQuery\"}"],"names":["ALLOWED_MEDIA_TYPES","AdvancedGalleryChangeMediaToolbar","props","onSelectImages","attributes","gallery","images","galleryValue","map","image","id","length","isOpen","onToggle","__","onClose","open","AdvancedGalleryBlockControls","ITEM_SIZE","GridItemCollection","placementVariation","gridItems","index","groupStart","Math","floor","groupEnd","min","isGroupOfThree","GridItem","removeExtra","flipX","flipY","extraLeft","getExtraLeft","extraTop","getExtraTop","extraBetween","getExtraBetween","gridItem","groupIndex","x","y","maxX","max","width","maxY","height","firstGroup","slice","maxBottom","sizeContrast","positionShift","objectPosition","imageResizing","imageRotation","idx","getIndex","col","row","getOffsets","offsetX","offsetY","size","rotation","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","transform","positionY","positionX","objectFit","AdvancedGallery","setAttributes","normalizeImages","then","newImages","newProps","Object","assign","Component","withSettings","utils","AdvancedGalleryInspectorControls","advancedGalleryPresetOptions","settings","elementsDistance","containerHeight","getRandomAttributes","cropStyle","label","value","AdvancedGalleryPlaceholder","AdvancedGalleryPreview","useState","setHeight","ref","useRef","useEffect","current","clientHeight","gridItemsCollection","gridStyle","getGridStyle","isSafari","getGalleryStyle","item","AdvancedGalleryItemMedia","Blob","withBlobsDecoration","imageURL","sizes","novablocks_medium","url","styles","getImageStyle","type","alt","AdvancedGalleryItem","imageCaption","caption","imageDescription","description","hasCaption","hasDescription","getStyle","__html","getRandomBetween","stylePreset","numerator","denominator","abs","paddingTop","safariHeightFix","grid","parent","parentNode","$grid","$","$parent","resetHeight","newHeight","outerHeight","css","debouncedResetHeight","debounce","window","ResizeObserver","observer","entries","observe","on"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAe;AACf;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;;ACRA;AAAA;AAAe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACJA;AAAA;AAAA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACdA;AAAA;AAAe;AACf;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AChBA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC5BA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;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","file":"./build/advanced-gallery/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./packages/advanced-gallery/build-module/index.js\");\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import { Fragment } from \"@wordpress/element\";\n\nimport { __ } from '@wordpress/i18n';\n\nimport {\n\tBlockControls,\n\tMediaUpload\n } from '@wordpress/block-editor';\n\nimport {\n\tDropdown,\n\tNavigableMenu,\n\tMenuItem,\n\tToolbar,\n\tToolbarGroup,\n\tToolbarButton,\n} from '@wordpress/components';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image', 'video' ];\n\nconst AdvancedGalleryChangeMediaToolbar = ( props ) => {\n\n\tconst {\n\t\tonSelectImages,\n\t\tattributes,\n\t} = props;\n\n\tconst gallery = attributes?.images;\n\tconst galleryValue = gallery.map( ( image ) => image.id );\n\n\tif ( ! gallery || ! gallery.length ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\t<Fragment>\n\n\t\t\t<Toolbar>\n\t\t\t\t<Dropdown\n\t\t\t\t\tposition=\"bottom right\"\n\t\t\t\t\tcontentClassName=\"block-editor-media-replace-flow__options\"\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t\t<ToolbarButton onClick={ onToggle } aria-expanded={ isOpen }>\n\t\t\t\t\t\t\t\t{ __( 'Change Media', '__plugin_txtd' ) }\n\t\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<NavigableMenu>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\tgallery\n\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tvalue={ galleryValue }\n\t\t\t\t\t\t\t\tonSelect={ onSelectImages }\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={ open }>{ __( 'Edit Gallery', '__plugin_txtd' ) }</MenuItem>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tvalue={ galleryValue }\n\t\t\t\t\t\t\t\tonSelect={ onSelectImages }\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={ open }>{ __( 'Add Video', '__plugin_txtd' ) }</MenuItem>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</Toolbar>\n\t\t</Fragment>\n\t);\n};\n\nconst AdvancedGalleryBlockControls = ( props ) => {\n\n\treturn (\n\t\t<BlockControls>\n\t\t\t<AdvancedGalleryChangeMediaToolbar { ...props } />\n\t\t</BlockControls>\n\t)\n};\n\nexport default AdvancedGalleryBlockControls;\n","const ITEM_SIZE = 20;\n\nexport class GridItemCollection {\n\n\tconstructor( images, attributes ) {\n\t\tconst placementVariation = attributes.placementVariation / 25 - 1;\n\n\t\tthis.gridItems = images.map( ( image, index ) => {\n\t\t\tconst groupStart = Math.floor( index / 4 ) * 4;\n\t\t\tconst groupEnd = Math.min( groupStart + 4, images.length );\n\t\t\tconst isGroupOfThree = groupEnd - groupStart === 3;\n\n\t\t\treturn new GridItem( image, index, attributes, isGroupOfThree );\n\t\t} );\n\n\t\tthis.removeExtra();\n\n\t\tif ( placementVariation === 1 || placementVariation === 2 ) {\n\t\t\tthis.flipX();\n\t\t}\n\n\t\tif ( placementVariation === 2 || placementVariation === 3 ) {\n\t\t\tthis.flipY();\n\t\t}\n\t}\n\n\tremoveExtra() {\n\t\tconst extraLeft = this.getExtraLeft();\n\t\tconst extraTop = this.getExtraTop();\n\t\tconst extraBetween = this.getExtraBetween();\n\n\t\tthis.gridItems = this.gridItems.map( ( gridItem, index ) => {\n\t\t\tconst groupIndex = Math.floor( index / 4 );\n\n\t\t\tgridItem.x = gridItem.x - extraLeft;\n\t\t\tgridItem.y = gridItem.y - extraTop - groupIndex * extraBetween;\n\n\t\t\treturn gridItem;\n\t\t} );\n\t}\n\n\tflipX() {\n\t\tconst maxX = Math.max( ...this.gridItems.map( gridItem => gridItem.x + gridItem.width ) );\n\n\t\tthis.gridItems = this.gridItems.map( ( gridItem, index ) => {\n\t\t\tgridItem.x = maxX - gridItem.x - gridItem.width + 1;\n\t\t\treturn gridItem;\n\t\t} );\n\t}\n\n\tflipY() {\n\t\tconst maxY = Math.max( ...this.gridItems.map( gridItem => gridItem.y + gridItem.height ) );\n\n\t\tthis.gridItems = this.gridItems.map( ( gridItem, index ) => {\n\t\t\tgridItem.y = maxY - gridItem.y - gridItem.height + 1;\n\t\t\treturn gridItem;\n\t\t} );\n\t}\n\n\tgetExtraLeft() {\n\t\treturn Math.min( ...this.gridItems.map( gridItem => gridItem.x ) ) - 1;\n\t}\n\n\tgetExtraTop() {\n\t\treturn Math.min( ...this.gridItems.map( gridItem => gridItem.y ) ) - 1;\n\t}\n\n\tgetExtraBetween() {\n\t\tconst firstGroup = this.gridItems.slice( 0, 4 );\n\t\tconst maxBottom = Math.max( ...firstGroup.map( gridItem => gridItem.y + gridItem.height ) );\n\n\t\treturn ITEM_SIZE * 2 - maxBottom + 1;\n\t}\n}\n\nexport class GridItem {\n\n\tconstructor( image, index, attributes, isGroupOfThree ) {\n\n\t\tthis.sizeContrast = attributes.sizeContrast / 20;\n\t\tthis.positionShift = attributes.positionShift / 5;\n\t\tthis.objectPosition = attributes.objectPosition;\n\t\tthis.imageResizing = attributes.imageResizing;\n\t\tthis.imageRotation = attributes.imageRotation;\n\n\t\tthis.image = image;\n\t\tthis.index = index;\n\n\t\tthis.idx = this.getIndex( index );\n\t\tthis.col = this.idx % 2;\n\t\tthis.row = Math.floor( index / 2 );\n\n\t\tif ( !! isGroupOfThree ) {\n\n\t\t\tif ( index === 0 ) {\n\t\t\t\tthis.positionShift = Math.min( this.positionShift, 10 );\n\t\t\t}\n\n\t\t\tif ( index === 2 ) {\n\t\t\t\tthis.positionShift = Math.max( this.positionShift, 10 );\n\t\t\t}\n\n\t\t}\n\n\t\tlet { offsetX, offsetY } = this.getOffsets();\n\t\tconst size = ITEM_SIZE - this.sizeContrast * ( index % 4 );\n\n\t\tthis.x = ITEM_SIZE * this.col + 1 + offsetX;\n\t\tthis.y = ITEM_SIZE * this.row + 1 + offsetY;\n\n\t\tthis.width = size;\n\t\tthis.height = size;\n\t}\n\n\tgetOffsets() {\n\t\tconst { row, col, index, sizeContrast, positionShift } = this;\n\n\t\t// offset for positioning\n\t\tlet offsetX = ( 1 - col % 2 ) * ( index % 4 ) * sizeContrast;\n\t\tlet offsetY = ( 1 - row % 2 ) * ( index % 4 ) * sizeContrast;\n\n\t\t// offset from offset\n\t\t// move 1st to right\n\t\toffsetX += ( 1 - col % 2 ) * ( 1 - row % 2 ) * positionShift;\n\t\t// move 3rd to left\n\t\toffsetX -= ( col % 2 ) * ( row % 2 ) * positionShift;\n\t\t// move 2nd down\n\t\toffsetY -= ( 1 - col % 2 ) * ( row % 2 ) * positionShift;\n\t\t// move 4th up\n\t\toffsetY += ( col % 2 ) * ( 1 - row % 2 ) * positionShift;\n\n\t\treturn {\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t}\n\t}\n\n\t// reoder to display items clockwise\n\tgetIndex( index ) {\n\t\tif ( index % 4 === 3 ) return index - 1;\n\t\tif ( index % 4 === 2 ) return index + 1;\n\n\t\treturn index;\n\t}\n\n\tgetStyle() {\n\t\tconst { index, x, y, width, height, imageRotation } = this;\n\t\tconst rotation = `rotate(${ ( index % 2 - 0.5 ) * imageRotation / 10 }deg)`;\n\n\t\treturn {\n\t\t\tgridColumnStart: x + '',\n\t\t\tgridColumnEnd: `span ${ width }`,\n\t\t\tgridRowStart: y + '',\n\t\t\tgridRowEnd: `span ${ height }`,\n\t\t\ttransform: rotation,\n\t\t};\n\t}\n\n\tgetImageStyle() {\n\t\tconst { row, col, objectPosition, imageResizing } = this;\n\t\tconst positionY = row % 2 === 0 ? 100 - objectPosition : objectPosition;\n\t\tconst positionX = col % 2 === 0 ? 100 - objectPosition : objectPosition;\n\n\t\treturn {\n\t\t\tobjectFit: imageResizing === 'cropped' ? 'cover' : 'scale-down',\n\t\t\tobjectPosition: `${ positionX }% ${ positionY }%`,\n\t\t}\n\t}\n}\n","import { Fragment } from '@wordpress/element';\n\nimport {\n\tnormalizeImages,\n\twithSettings\n} from \"@novablocks/block-editor\";\n\nimport AdvancedGalleryPreview from './preview';\nimport AdvancedGalleryPlaceholder from './placeholder';\nimport AdvancedGalleryInspectorControls from './inspector-controls';\nimport AdvancedGalleryBlockControls from './block-controls';\n\nimport attributes from './attributes';\nimport * as utils from './utils';\n\nimport './hooks/with-advanced-gallery-attribtues';\n\nexport {\n\tGridItem,\n\tGridItemCollection\n} from './grid-item';\n\nconst AdvancedGallery = ( props ) => {\n\n\tconst {\n\t\tsetAttributes\n\t} = props;\n\n\tconst onSelectImages = ( images ) => {\n\t\tnormalizeImages( images ).then( newImages => {\n\t\t\tsetAttributes( { images: newImages } );\n\t\t} )\n\t};\n\n\tconst newProps = Object.assign( {}, props, { onSelectImages } );\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<AdvancedGalleryPlaceholder { ...newProps } />\n\t\t\t<AdvancedGalleryPreview { ...newProps } />\n\t\t\t<AdvancedGalleryInspectorControls { ...newProps } />\n\t\t\t<AdvancedGalleryBlockControls { ...newProps } />\n\t\t</Fragment>\n\t)\n};\n\nexport default {\n\tComponent: withSettings( AdvancedGallery ),\n\tattributes,\n\tutils,\n};\n","import { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\n\nimport {\n\tRadioControl,\n\tRangeControl,\n} from '@wordpress/components';\n\nimport {\n\tControlsGroup,\n\tControlsSection,\n\tControlsTab,\n\tNotice,\n\tPresetControl,\n} from '@novablocks/block-editor';\n\nimport { getRandomAttributes } from \"./utils\";\n\nconst AdvancedGalleryInspectorControls = ( props ) => {\n\n\tconst {\n\t\tsetAttributes,\n\t\tattributes,\n\t\tsettings: {\n\t\t\tadvancedGalleryPresetOptions,\n\t\t}\n\t} = props;\n\n\tconst {\n\t\t// composition settings\n\t\tsizeContrast,\n\t\tpositionShift,\n\t\telementsDistance,\n\t\tplacementVariation,\n\n\t\t// elements settings\n\t\timageResizing,\n\t\tobjectPosition,\n\t\tcontainerHeight,\n\t\timageRotation,\n\n\t} = attributes;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ControlsSection label={ __( 'Media Composition' ) } group={ __( 'Modules' ) }>\n\n\t\t\t\t<ControlsTab label={ __( 'General' ) }>\n\t\t\t\t\t<Notice\n\t\t\t\t\t\tkey={ 'advanced-gallery-quick-start' }\n\t\t\t\t\t\tid={ 'novablocks-advanced-gallery-quick-start' }\n\t\t\t\t\t\tcontent={ <p><strong>Quick start:</strong> Set up your gallery layout using the presets list below and use the Customize tab to fine-tune the details</p> }\n\t\t\t\t\t\tdismissLabel={ '✔ Ok, I got it!' }\n\t\t\t\t\t/>\n\t\t\t\t\t<PresetControl\n\t\t\t\t\t\tkey={ 'advanced-gallery-style-preset' }\n\t\t\t\t\t\toptions={ advancedGalleryPresetOptions }\n\t\t\t\t\t\trandomize={ getRandomAttributes }\n\t\t\t\t\t/>\n\t\t\t\t</ControlsTab>\n\n\t\t\t\t<ControlsTab label={ __( 'Customize' ) }>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tkey={ 'advanced-gallery-crop-style' }\n\t\t\t\t\t\tlabel={ __( 'Images Crop Style', '__plugin_txtd' ) }\n\t\t\t\t\t\tvalue={ imageResizing === 'cropped' ? 2 : 1 }\n\t\t\t\t\t\tonChange={ cropStyle => {\n\t\t\t\t\t\t\tsetAttributes( { imageResizing: cropStyle === 2 ? 'cropped' : 'original' } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\tmax={ 2 }\n\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t/>\n\t\t\t\t</ControlsTab>\n\n\t\t\t\t<ControlsTab label={ __( 'Settings' ) }>\n\t\t\t\t\t<ControlsGroup title={ __( 'Gallery' ) }>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey={ 'advanced-gallery-size-contrast' }\n\t\t\t\t\t\t\tlabel={ __( 'Size Contrast', '__plugin_txtd' ) }\n\t\t\t\t\t\t\tvalue={ sizeContrast }\n\t\t\t\t\t\t\tonChange={ sizeContrast => setAttributes( { sizeContrast } ) }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 20 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey={ 'advanced-gallery-position-shift' }\n\t\t\t\t\t\t\tlabel={ __( 'Position Shift', '__plugin_txtd' ) }\n\t\t\t\t\t\t\tvalue={ positionShift }\n\t\t\t\t\t\t\tonChange={ positionShift => setAttributes( { positionShift } ) }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 5 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey={ 'advanced-gallery-elements-distance' }\n\t\t\t\t\t\t\tlabel={ __( 'Elements Distance', '__plugin_txtd' ) }\n\t\t\t\t\t\t\tvalue={ elementsDistance }\n\t\t\t\t\t\t\tonChange={ elementsDistance => setAttributes( { elementsDistance } ) }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 20 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey={ 'advanced-gallery-placement-variation' }\n\t\t\t\t\t\t\tlabel={ __( 'Placement Variation', '__plugin_txtd' ) }\n\t\t\t\t\t\t\tvalue={ placementVariation }\n\t\t\t\t\t\t\tonChange={ placementVariation => setAttributes( { placementVariation } ) }\n\t\t\t\t\t\t\tmin={ 25 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 25 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey={ 'advanced-gallery-image-rotation' }\n\t\t\t\t\t\t\tlabel={ __( 'Image Rotation', '__plugin_txtd' ) }\n\t\t\t\t\t\t\tvalue={ imageRotation }\n\t\t\t\t\t\t\tonChange={ imageRotation => setAttributes( { imageRotation } ) }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 10 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ControlsGroup>\n\t\t\t\t\t<ControlsGroup title={ __( 'Display' ) }>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey={ 'advanced-gallery-image-container-height' }\n\t\t\t\t\t\t\tlabel={ __( 'Image Container Height', '__plugin_txtd' ) }\n\t\t\t\t\t\t\tvalue={ containerHeight }\n\t\t\t\t\t\t\tonChange={ containerHeight => setAttributes( { containerHeight } ) }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 5 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tkey={ 'advanced-gallery-image-resizing' }\n\t\t\t\t\t\t\tlabel={ 'Image Resizing' }\n\t\t\t\t\t\t\tselected={ imageResizing }\n\t\t\t\t\t\t\tonChange={ imageResizing => setAttributes( { imageResizing } ) }\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t{ label: 'Stretch to fill the container', value: 'cropped' },\n\t\t\t\t\t\t\t\t{ label: 'Shrink to fit (no crop)', value: 'original' },\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey={ 'advanced-gallery-image-position' }\n\t\t\t\t\t\t\tlabel={ __( 'Image Position', '__plugin_txtd' ) }\n\t\t\t\t\t\t\tvalue={ objectPosition }\n\t\t\t\t\t\t\tonChange={ objectPosition => setAttributes( { objectPosition } ) }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 10 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ControlsGroup>\n\t\t\t\t</ControlsTab>\n\t\t\t</ControlsSection>\n\n\t\t</Fragment>\n\t);\n};\n\nexport default AdvancedGalleryInspectorControls;\n","import {\n\tMediaPlaceholder,\n\tBlockIcon\n } from '@wordpress/block-editor';\n\nconst AdvancedGalleryPlaceholder = ( props ) => {\n\n\tconst {\n\t\tattributes,\n\t\tonSelectImages,\n\t} = props;\n\n\tconst gallery = attributes?.images;\n\n\tif ( !! gallery && !! gallery.length ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\t<MediaPlaceholder\n\t\t\ticon={ <BlockIcon icon='format-gallery' /> }\n\t\t\tallowedTypes={ [ 'image', 'video' ] }\n\t\t\tmultiple\n\t\t\tonSelect={ onSelectImages }\n\t\t/>\n\t)\n}\n\nexport default AdvancedGalleryPlaceholder;\n","import { __ } from '@wordpress/i18n';\nimport { MediaUpload } from '@wordpress/block-editor';\nimport { Fragment, useState, useEffect, useRef } from '@wordpress/element';\n\nimport { isSafari } from \"@novablocks/utils\";\nimport Blob from \"@novablocks/blob\";\n\nimport { GridItemCollection } from \"./grid-item\";\nimport { getGalleryStyle, getGridStyle } from \"./utils\";\n\nconst AdvancedGalleryPreview = ( props ) => {\n\n\tconst {\n\t\tattributes,\n\t\tonSelectImages,\n\t} = props;\n\n\tconst gallery = attributes?.images;\n\tconst galleryValue = gallery.map( ( image ) => image.id );\n\n\tif ( ! gallery || ! gallery.length ) {\n\t\treturn null;\n\t}\n\n\tconst [ height, setHeight ] = useState(0);\n\tconst ref = useRef( null );\n\n\tuseEffect(() => {\n\t\tsetHeight( !! ref.current ? ref.current.clientHeight : 0 );\n\t});\n\n\tconst gridItemsCollection = new GridItemCollection( gallery, attributes );\n\tconst gridStyle = getGridStyle( attributes );\n\n\tif ( !! isSafari ) {\n\t\tObject.assign( gridStyle, { height } );\n\t}\n\n\treturn (\n\t\t<MediaUpload\n\t\t\tgallery\n\t\t\tallowedTypes={ [ 'image', 'video' ] }\n\t\t\tmultiple\n\t\t\tonSelect={ onSelectImages }\n\t\t\tvalue={ galleryValue }\n\t\t\trender={ ( { open } ) => (\n\t\t\t\t<div className={ 'novablocks-advanced-gallery' } style={ getGalleryStyle( attributes ) } ref={ ref }>\n\t\t\t\t\t<div className={ `novablocks-advanced-gallery__media-edit novablocks-change-media-overlay` } onClick={ open }>\n\t\t\t\t\t\t<span>{ __( 'Change Media', '__plugin_txtd' ) }</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={ `novablocks-advanced-gallery__grid` } style={ gridStyle }>\n\t\t\t\t\t\t{ gridItemsCollection.gridItems.map( ( item, index ) => (\n\t\t\t\t\t\t\t<AdvancedGalleryItem gridItem={ item } key={ index } index={ index } { ...props } />\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t/>\n\t);\n};\n\nconst AdvancedGalleryItemMedia = Blob.withBlobsDecoration(( props ) => {\n\tconst { gridItem } = props;\n\tconst image = gridItem?.image;\n\tconst imageURL = image?.sizes?.novablocks_medium?.url || image?.url;\n\tconst styles = gridItem.getImageStyle();\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{ image.type !== 'video' &&\n\t\t\t  <img className={ `novablocks-advanced-gallery__image` } src={ imageURL } alt={ image?.alt } style={ styles } /> }\n\t\t\t{ image.type === 'video' &&\n\t\t\t  <video muted autoPlay loop playsInline className={ `novablocks-advanced-gallery__image` } style={ styles } src={ image.url } /> }\n\t\t</Fragment>\n\t)\n});\n\nconst AdvancedGalleryItem = ( props ) => {\n\n\tconst { gridItem } = props;\n\n\tconst image = gridItem?.image;\n\tconst imageCaption = image?.caption;\n\tconst imageDescription = image?.description;\n\n\tif ( ! image ) {\n\t\treturn;\n\t}\n\n\tconst hasCaption = typeof imageCaption === 'string' && !! imageCaption;\n\tconst hasDescription = typeof imageDescription === 'string' && !! imageDescription;\n\n\treturn (\n\t\t<div className={ `novablocks-advanced-gallery__grid-item` } style={ gridItem.getStyle() }>\n\t\t\t<div className={ `novablocks-advanced-gallery__grid-item-media` }>\n\t\t\t\t<AdvancedGalleryItemMedia { ...props } seedOffset={ props?.index } />\n\t\t\t</div>\n\t\t\t{\n\t\t\t\t( hasCaption || hasDescription ) &&\n\t\t\t\t<div className=\"novablocks-advanced-gallery__grid-item-info\">\n\t\t\t\t\t{\n\t\t\t\t\t\thasCaption &&\n\t\t\t\t\t\t<div className={ `novablocks-advanced-gallery__grid-item-caption` }\n\t\t\t\t\t\t     dangerouslySetInnerHTML={ { __html: imageCaption } }>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\ttypeof hasDescription &&\n\t\t\t\t\t\t<div className={ `novablocks-advanced-gallery__grid-item-description` }\n\t\t\t\t\t\t     dangerouslySetInnerHTML={ { __html: imageDescription } }>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nexport default AdvancedGalleryPreview;\n","import $ from 'jquery';\nimport { debounce, isSafari, getRandomBetween } from \"@novablocks/utils\";\n\nexport const getRandomAttributes = () => {\n\treturn {\n\t\tsizeContrast: getRandomBetween(0, 5) * 20,\n\t\tpositionShift: getRandomBetween(0, 20) * 5,\n\t\telementsDistance: getRandomBetween(0, 5) * 20,\n\t\tplacementVariation: getRandomBetween(1, 4) * 25,\n\t\tstylePreset: 'just-my-style',\n\t};\n};\n\nexport const getGalleryStyle = ( attributes ) => {\n\tlet containerHeight = attributes.containerHeight / 50 - 1;\n\tlet numerator = 1;\n\tlet denominator = 1;\n\n\tcontainerHeight = Math.min( Math.max( -1, containerHeight ), 1 );\n\n\tif ( containerHeight > 0 ) {\n\t\tnumerator = 1 + containerHeight;\n\t}\n\n\tif ( containerHeight < 0 ) {\n\t\tdenominator = 1 + Math.abs( containerHeight );\n\t}\n\n\treturn {\n\t\tpaddingTop: `${ numerator * 100 / denominator }%`,\n\t}\n};\n\nexport const getGridStyle = ( attributes ) => {\n\tconst { elementsDistance } = attributes;\n\n\treturn {\n\t\t'--novablocks-advanced-gallery-grid-gap': `${ elementsDistance }px`\n\t}\n};\n\nexport const safariHeightFix = ( grid ) => {\n\n\tif ( ! isSafari ) {\n\t\treturn;\n\t}\n\n\tconst parent = grid.parentNode;\n\tconst $grid = $( grid );\n\tconst $parent = $( parent );\n\n\tconst resetHeight = () => {\n\t\tconst newHeight = $parent.outerHeight();\n\n\t\t$grid.css( 'height', newHeight );\n\t};\n\n\tconst debouncedResetHeight = debounce( resetHeight, 30 );\n\n\tresetHeight();\n\n\tif ( typeof window.ResizeObserver !== \"undefined\" ) {\n\t\tconst observer = new window.ResizeObserver( entries => {\n\t\t\tdebouncedResetHeight();\n\t\t} );\n\n\t\tobserver.observe( parent );\n\t} else {\n\t\t$( window ).on( 'resize', function() {\n\t\t\tdebouncedResetHeight();\n\t\t} );\n\t}\n};\n","(function() { module.exports = this[\"novablocks\"][\"blob\"]; }());","(function() { module.exports = this[\"novablocks\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"novablocks\"][\"utils\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"jQuery\"]; }());"],"sourceRoot":""}