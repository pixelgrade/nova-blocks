!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=253)}({0:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},1:function(e,t){!function(){e.exports=this.wp.element}()},2:function(e,t){!function(){e.exports=this.wp.i18n}()},253:function(e,t,n){"use strict";var r=n(0),o=n(5)(n(3)),a=r(n(254)),l=r(n(258)),s=n(2);(0,n(4).registerBlockType)("novablocks/openhours",{title:(0,s.__)("OpenHours","__plugin_txtd"),description:(0,s.__)("Display Opening Hours for any kind of venue.","__plugin_txtd"),category:"nova-blocks",icon:o.openhours,attributes:l.default,edit:a.default,save:function(){}})},254:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1),a=r(n(255)),l=r(n(256)),s=function(e){return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(l.default,e),(0,o.createElement)(a.default,e))};t.default=s},255:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),o=function(e){return(0,r.createElement)(wp.serverSideRender,{block:"novablocks/openhours",attributes:e.attributes})};t.default=o},256:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1),a=r(n(35)),l=n(8),s=n(2),u=n(257),i=n(9),c=function(e){var t=e.attributes,n=t.openHoursStyle,r=t.text,c=t.timeFormat,p=t.openNote,d=t.closedNote,f=t.closedLabel,m=t.compressOpeningHours,_=t.hideClosedDays,g=t.useShortName,b=e.setAttributes,y=(0,o.createElement)(o.Fragment,null,(0,o.createElement)(i.ExternalLink,{href:"https://wordpress.org/support/article/formatting-date-and-time/"},(0,s.__)("Learn more about time formatting","__plugin_txtd")));return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(l.ControlsSection,{label:(0,s.__)("Setup")},(0,o.createElement)(l.ControlsTab,{label:(0,s.__)("Settings")},(0,o.createElement)(i.TextareaControl,{key:"openhours-schedule-controls",label:(0,s.__)("Write your opening hours in a simple human readable format"),value:r,className:"original-text",onChange:function(e){return b({text:e,parsedText:(0,u.parseContent)(e)})}}),(0,o.createElement)("div",{className:"components-base-control__label novablocks__label novablocks__example novablocks__example--multi"},(0,s.__)("Monday 10am - 3pm\nTuesday to Friday 9 - 17\nSat noon - 2am","__plugin_txtd")))),(0,o.createElement)(l.ControlsSection,{label:(0,s.__)("Display")},(0,o.createElement)(l.ControlsTab,{label:(0,s.__)("Settings")},(0,o.createElement)(i.RadioControl,{key:"openhours-display-controls",label:(0,s.__)("Displaying the opening hours","__plugin_txtd"),value:n,selected:n,options:[{label:"Overview",value:"overview"},{label:"Current Status",value:"status"}],onChange:function(e){return b({openHoursStyle:e})}}),"status"===n&&(0,o.createElement)("div",{className:"components-base-control__label novablocks__label"},'Write the "Open" and "Closed" messages using the tags displayed below.'),"status"===n&&(0,o.createElement)((function(){var e=(0,o.useState)(!1),t=(0,a.default)(e,2),n=t[0],r=t[1];return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(i.Button,{className:"novablocks__label",isLink:!0,onClick:function(){return r(!0)}},"See available tags"),n&&(0,o.createElement)(i.Modal,{onRequestClose:function(){return r(!1)},shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,className:"novablocks-openhours__modal"}))}),null),"status"===n&&(0,o.createElement)(i.TextControl,{label:"Open Note",value:p,onChange:function(e){return b({openNote:e})}}),"status"===n&&(0,o.createElement)("div",{className:"components-base-control__label novablocks__label novablocks__example"},(0,s.__)("It's {time} and we're Open until {today-closing-time}.","__plugin_txtd")),"status"===n&&(0,o.createElement)("div",{className:"components-base-control__label novablocks__label novablocks__example"},(0,s.__)("{time} - It's today, we're Open.","__plugin_txtd")),"status"===n&&(0,o.createElement)(i.TextControl,{label:"Closed Note",value:d,onChange:function(e){return b({closedNote:e})}}),"status"===n&&(0,o.createElement)("div",{className:"components-base-control__label novablocks__label novablocks__example"},(0,s.__)("We're closed until {next-opening-day} at {next-opening-time}.","__plugin_txtd")),"status"===n&&(0,o.createElement)("div",{className:"components-base-control__label novablocks__label novablocks__example"},(0,s.__)("{time} - it's closed now.","__plugin_txtd")),"overview"===n&&(0,o.createElement)(i.TextControl,{label:"Closed Label",value:f,onChange:function(e){return b({closedLabel:e})}}),"overview"===n&&(0,o.createElement)(i.ToggleControl,{label:(0,s.__)("Compress Opening Hours","__plugin_txtd"),checked:m,onChange:function(){return b({compressOpeningHours:!m})}}),"overview"===n&&(0,o.createElement)(i.ToggleControl,{label:(0,s.__)("Hide Closed Days","__plugin_txtd"),checked:_,onChange:function(){return b({hideClosedDays:!_})}}),"overview"===n&&(0,o.createElement)(i.ToggleControl,{label:(0,s.__)("Use Short Day Name","__plugin_txtd"),checked:g,onChange:function(){return b({useShortName:!g})}}),(0,o.createElement)(i.TextControl,{label:"Time Format",value:c,help:y,onChange:function(e){return b({timeFormat:e})}}))))};t.default=c},257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContent=void 0;var r=r||{};r.util=r.util||{},r.util.Hours={padTimes:function(e){return e=(e=(e=(e=(e=(e=e.replace(/([^0-9]|^)([0-9]{3})([^0-9]|$)/g,"$10$2$3")).replace(/([^0-9]|^)([0-9]{3})([^0-9]|$)/g,"$10$2$3")).replace(/([^0-9]|^)([0-9]{2})([^0-9]|$)/g,"$1$200$3")).replace(/([^0-9]|^)([0-9]{2})([^0-9]|$)/g,"$1$200$3")).replace(/([^0-9]|^)([0-9])([^0-9]|$)/g,"$10$200$3")).replace(/([^0-9]|^)([0-9])([^0-9]|$)/g,"$10$200$3")},toTimeframe:function(e,t,n){return t>=n&&n<=240&&(n+=1440),{days:e,open:[{start:r.util.Hours.formatMinutes(t),end:r.util.Hours.formatMinutes(n)}]}},formatMinutes:function(e){var t=Math.floor(e/60),n=e%60,r=t%24!==t;return(t%=24)%10===t&&(t="0"+t),r&&(t="+"+t),n%10===n&&(n="0"+n),t+""+n},minutesAfterMidnight:function(e,t,n){var r=parseInt(e,10),o=void 0!==t?parseInt(t,10):0;return 12===r&&n&&(r-=12),n&&"p"===n[0]&&(r+=12),60*r+o}},r.util.HoursParser={parse:function(e){e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/\n/g," ; ")).replace(/(12|12:00)?midnight/g,"1200a")).replace(/(12|12:00)?noon/g,"1200p")).replace(/(open)?\s*24\s*hours?/g,"1200a-1200a")).replace(/\s*(and|,|\+|&)\s*/g,"&")).replace(/\s*(-|to|thru|through|till?|'till?|until)\s*/g,"-")).replace(/\s*a\.?m?\.?/g,"a")).replace(/\s*p\.?m?\.?/g,"p")).replace(/([0-9])(h|:|\.)([0-9])([^0-9]|$)/g,"$1$2$30$4")).replace(/([0-9]+)\s*(h|:|\.)\s*([0-9]{2})/g,"$1$3"),e=r.util.Hours.padTimes(e);var t=_.map(_.range(1,8),(function(t){var n=r.util.HoursParser.dayAliases(t),o=_.head(n),a=_.tail(n);return a.reverse(),o&&a&&_.each(a,(function(t){e=e.replace(new RegExp(t,"g"),o)})),o})),n="("+t.join("|")+")",o="([0-9][0-9])([0-9][0-9])\\s*([ap])?",a="([0-9]{4}\\s*[ap]?[^0-9]+[0-9]{4}\\s*[ap]?)",l=n+".*?"+a,s=a+".*?"+n,u=e.search(new RegExp(l)),i=e.search(new RegExp(s)),c=-1!==u&&u<=i||-1===i;if(c)for(var p=n+"&"+n+"[^&]*?"+a,d=new RegExp(p,"g"),f=0;f<t.length;++f)e=e.replace(d,"$1 $3; $2 $3; ");else for(p=a+"([^0-9]*?)"+n+"&"+n,d=new RegExp(p,"g"),f=0;f<t.length;++f)e=e.replace(d,"$1 $2 $3; $1 $4; ");var m=n+"[^a-z0-9]*"+n+"?",g=o+"[^0-9]*"+o,b=new RegExp(c?m+".*?"+g:g+".*?"+m,"g"),y=[];do{var v=b.exec(e);v&&y.push(v)}while(v);if(y.length<=0){var h=new RegExp("(@!ZfW#)?(@!ZfW#)?"+g).exec(e);h&&y.push(h)}var x=_.map(y,(function(e){var n=c?e[1]:e[7],o=c?e[2]:e[8],a=void 0!==n?t.indexOf(n):0,l=null;void 0!==o?void 0===n?a=t.indexOf(o):l=t.indexOf(o):void 0===n&&(l=7),null===l&&(l=a),l<a&&(l+=7);var s=_.map(_.range(a,l+1),(function(e){return e%7+1})),u=c?e[3]:e[1],i=c?e[4]:e[2],p=c?e[5]:e[3],d=c?e[6]:e[4],f=c?e[7]:e[5],m=c?e[8]:e[6],g=r.util.Hours.minutesAfterMidnight(u,i,p),b=r.util.Hours.minutesAfterMidnight(d,f,m);return r.util.Hours.toTimeframe(s,g,b)}));return x.length?{timeframes:x}:null},dayAliases:function(e){var t="";switch(e){case 1:t=["mondays","monday","monda","mond","mon","mo","m"];break;case 2:t=["tuesdays","tuesday","tuesd","tues","tue","tu"];break;case 3:t=["wednesdays","wednesday","wednes","wedne","wedn","wed","we","w"];break;case 4:t=["thursdays","thursday","thurs","thur","thu","th"];break;case 5:t=["fridays","friday","frida","frid","fri","fr","f"];break;case 6:t=["saturdays","saturday","satur","satu","sat","sa"];break;case 7:t=["sundays","sunday","sunda","sund","sun","su"];break;default:return[]}return _.sortBy(t,(function(e){return e.length}))}};t.parseContent=function(e){e=function(e){for(var t="",n=e.split("\n"),r=0;r<n.length;r++)n[r].includes("closed")||n[r].includes("Closed")||!n[r].match(/\d+/g)||(t+=n[r]+"\n");return t}(e);var t=r.util.HoursParser.parse(e);return JSON.stringify(t)}},258:function(e){e.exports=JSON.parse('{"text":{"type":"string","default":"Monday 10am - 3pm\\nTuesday to Friday 9 - 17\\nSat noon - 2am"},"parsedText":{"type":"string","default":"{\\"timeframes\\":[{\\"days\\":[1],\\"open\\":[{\\"start\\":\\"1000\\",\\"end\\":\\"2200\\"}]},{\\"days\\":[2,3,4,5],\\"open\\":[{\\"start\\":\\"0900\\",\\"end\\":\\"1700\\"}]},{\\"days\\":[6],\\"open\\":[{\\"start\\":\\"1200\\",\\"end\\":\\"+0200\\"}]}]}"},"timeFormat":{"type":"string","default":"g:ia"},"openHoursStyle":{"type":"string","default":"overview"},"openNote":{"type":"string","default":"It\'s {time} and we\'re Open until {today-closing-time}"},"closedNote":{"type":"string","default":"We\'re closed until {next-opening-day} at {next-opening-time}"},"closedLabel":{"type":"string","default":"Closed"},"compressOpeningHours":{"type":"boolean","default":false},"hideClosedDays":{"type":"boolean","default":false},"useShortName":{"type":"boolean","default":false}}')},27:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},29:function(e,t,n){var r=n(27);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},3:function(e,t){!function(){e.exports=this.novablocks.icons}()},35:function(e,t,n){var r=n(36),o=n(37),a=n(29),l=n(38);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||l()}},36:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},37:function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}},38:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},4:function(e,t){!function(){e.exports=this.wp.blocks}()},5:function(e,t,n){var r=n(6);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var s=a?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(n,l,s):n[l]=e[l]}return n.default=e,t&&t.set(e,n),n}},6:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},8:function(e,t){!function(){e.exports=this.novablocks.blockEditor}()},9:function(e,t){!function(){e.exports=this.wp.components}()}});